#general info
#	checkoverlap

#==================================================================================================================
#	Other Detectors
#==================================================================================================================
DEFINE: bXVeto		100 # x-y Dimension of Muon Veto Scintillator
DEFINE: thVeto		0.5 # Thickness of Muon Veto Scintillator
DEFINE: pRVeto		137 # R position of Muon Veto Scintillator
DEFINE: thdESi		0.058 # Thickness of dEdx Scintillator 
DEFINE: thESi		1.5 # Thickness of E Scintillator 
DEFINE: thPS		1 # Thickness of Plastic Charged Veto Scintillator 
DEFINE: gESi		1 # Gap between dEdx and E Scintillator 
DEFINE: gPS 		1 # Gap between Plastic Charged Veto and E Scintillator 
DEFINE: thPack		thPS+thESi+thdESi+gPS+gESi # Thickness of Detector Packages
DEFINE: bXPack		50 # x-y Dimension of Detector Packages
DEFINE: pRPack		120 # R position of Detector Packages
DEFINE: pZdES		-thPack/2+thdESi/2 # Z position of E Scintillator (Relative to Detector Package)
DEFINE: pZESi		pZdES+thdESi/2+gESi+thESi/2 # Z position of E Scintillator (Relative to Detector Package)
DEFINE: pZPS		pZESi+thESi/2+gPS+thPS/2 # Z position of Plastic Charged Veto Scintillator (Relative to Detector Package)
#Box info
#	Type x      y      z      Name        RepNo MotVolume Material     SDName        posX    posY  posZ    Ephi Ethe Epsi
#	     mm     mm     mm                                                            mm      mm    mm      deg  deg  deg
#	                                                                               P R       Phi   Z
#	                                                                               S R       Phi   Theta  
	B    bXVeto bXVeto thVeto MuVetoPS    1     ChamberIn Scintillator none P pRVeto  180    Z0     90   90   0
	B    bXPack bXPack thPack DetBlock1   1     ChamberIn VacuumPSI    none        P pRPack  90     Z0     0   -90   0 
	B    bXPack bXPack thPS   VetoPS1     1     DetBlock1 Scintillator none   0       0      pZPS   0    0    0 
	B    bXPack bXPack thESi  ESi1        1     DetBlock1 Silicon      none          0       0      pZESi  0    0    0 
	B    bXPack bXPack thdESi dESi1       1     DetBlock1 Silicon      none          0       0      pZdES  0    0    0 
	B    bXPack bXPack thPack DetBlock2   1     ChamberIn VacuumPSI    none        P pRPack -90     Z0     0    90   0 
	B    bXPack bXPack thPS   VetoPS2     1     DetBlock2 Scintillator none   0       0      pZPS   0    0    0 
	B    bXPack bXPack thESi  ESi2        1     DetBlock2 Silicon      none          0       0      pZESi  0    0    0 
	B    bXPack bXPack thdESi dESi2       1     DetBlock2 Silicon      none          0       0      pZdES  0    0    0 
	B    bXVeto bXVeto thVeto GePS        1     World     Scintillator none S pRGe-10-LGe/2 0    135   90   -45      0 
	#B    bXVeto bXVeto thVeto MuVetoPS    1     ChamberIn Scintillator none P pRVeto  180    Z0     90   90   0
	#B    bXPack bXPack thPack DetBlock1   1     ChamberIn VacuumPSI    none        P pRPack  90     Z0     0   -90   0 
	#B    bXPack bXPack thPS   VetoPS1     1     DetBlock1 Scintillator none   0       0      pZPS   0    0    0 
	#B    bXPack bXPack thESi  ESi1        1     DetBlock1 Silicon      none   0       0      pZESi  0    0    0 
	#B    bXPack bXPack thdESi dESi1       1     DetBlock1 Silicon      none   0       0      pZdES  0    0    0 
	#B    bXPack bXPack thPack DetBlock2   1     ChamberIn VacuumPSI    none        P pRPack -90     Z0     0    90   0 
	#B    bXPack bXPack thPS   VetoPS2     1     DetBlock2 Scintillator none   0       0      pZPS   0    0    0 
	#B    bXPack bXPack thESi  ESi2        1     DetBlock2 Silicon      none   0       0      pZESi  0    0    0 
	#B    bXPack bXPack thdESi dESi2       1     DetBlock2 Silicon      none   0       0      pZdES  0    0    0 

#==================================================================================================================
#	Target
#==================================================================================================================
DEFINE: XT 		100 # x Dimension of Target
DEFINE: XTB		120 # x Dimension of Target Border
DEFINE: XTBS	122 # x Dimension of Target Border Shielding
DEFINE: thT 	0.050 # Thickness of Target
DEFINE: thTB	5 # Thickness of Target Border
DEFINE: thTBS	7 # Thickness of Target Border Shielding
#Box info
#	Type x      y     z       Name        RepNo MotVolume   Material     SDName       posX  posY  posZ   Ephi Ethe Epsi
#	     mm     mm    mm                                                              mm    mm    mm     deg  deg  deg
#	                                                                                P R     Phi   Z
#	                                                                                S R     Phi   Theta 
	B    XTB    XTB   thTB    bTgtBdWh          
	B    XT     XT    thTB+1  bTgtBdHl          
	B    XTBS   XTBS  thTBS   bTgtBdShWh        
	B    XT     XT    thTBS+1 bTgtBdShHl        
	B    XTBS   XTBS  thTBS   TargetMount 1     ChamberIn   VacuumPSI     none        0     0     Z0     45   90   0 
#	B    XT     XT    thT     Target      1     TargetMount Silicon     none 0     0     0      0    0    0
	B    XT     XT    thT     Target      1     TargetMount Aluminium     M/MonitorSD 0     0     0      0    0    0
#BooleanSolid info
#	Type type  vol1       vol2        Ephi Ethe Epsi PosX PosY PosZ   name                  RepNo MotVolume   Material SDName  posX posY posZ  Ephi Ethe Epsi  
#	                                  deg  deg  deg  mm   mm   mm                                                              mm   mm   mm    deg  deg  deg   
#	                                               P R    Phi  Z                                                             P R    Phi  Z    
#	                                               S R    Phi  Theta                                                         S R    Phi  Theta
	BL   minus bTgtBdWh   bTgtBdHl    0    0    0    0    0    0      TargetBorder          1     TargetMount PCB      none    0    0    0     0    0    0  
	BL   minus bTgtBdShWh bTgtBdShHl  0    0    0    0    0    0      uTgtBd1                     
	BL   minus uTgtBd1    bTgtBdWh    0    0    0    0    0    0      TargetBorderShielding 1     TargetMount Lead     none    0    0    0     0    0    0

#==================================================================================================================
#       Back Shield (NB no legs in this geometry)
#==================================================================================================================
DEFINE: wdthBW          300 # width of Back Wall
DEFINE: hgtBW           375 # height of Back Wall
DEFINE: hgtBWHole       60  # height of the hole in the back wall
DEFINE: wdthBWHole      60  # width of the hole in the back wall
DEFINE: thBW            1 # Thickness of Back Wall
#Box info
#       Type x      y     z       Name        RepNo MotVolume   Material     SDName       posX  posY  posZ   Ephi Ethe Epsi
#            mm     mm    mm                                                              mm    mm    mm     deg  deg  deg
#                                                                                       P R     Phi   Z
#                                                                                       S R     Phi   Theta 
        B    wdthBW  hgtBW thBW   FullBW          
        B    wdthBWHole hgtBWHole thBW  BWHole          
#BooleanSolid info
#       Type type  vol1       vol2        Ephi Ethe Epsi PosX PosY PosZ   name                  RepNo MotVolume   Material SDName  posX posY posZ  Ephi Ethe Epsi  
#                                         deg  deg  deg  mm   mm   mm                                                              mm   mm   mm    deg  deg  deg   
                                                       P R    Phi  Z                                                             P R    Phi  Z    
                                                       S R    Phi  Theta                                                         S R    Phi  Theta
        BL   minus FullBW   BWHole    0    0    0    0    77.5    0      BackWall          1     ChamberIn Lead      none    -50    0    0     90    90    0  
  
##==================================================================================================================
##	Downstream Wall
##==================================================================================================================
#DEFINE: thW  		1  # Thickness of Downstream Wall
##Tubs info
##	Type RMin RMax   Length  Start Span Name             RepNo  MotVolume Material  SDName    posX posY  posZ  Ephi   Ethe   Epsi  
##	     mm   mm     mm      deg   deg                                                        mm   mm    mm    deg    deg    deg   
##	                                                                                  P R    Phi   Z     
##	                                                                                  S R    Phi   Theta 
#	T    0    RI     HI      90    180  tDWall
#	T    0    RI-thW HI+1    0     360  cDWall
##BooleanSolid info
##	Type type  vol1   vol2             Ephi Ethe Epsi PosX  PosY PosZ   name              RepNo MotVolume  Material    SDName    posX posY posZ Ephi Ethe Epsi  
##	                                   deg  deg  deg  mm    mm   mm                                                              mm   mm   mm   deg  deg  deg   
##	                                                P R     Phi  Z                                                             P R    Phi  Z    
##	                                                S R     Phi  Theta                                                         S R    Phi  Theta
#	BL   minus tDWall cDWall           0    0    0    0     0    0      bDW1                    
#	BL   minus bDW1   cutDRPort        45   90   0  P R0    135  Z0     bDW2                    
#	BL   minus bDW2   cutDetectorPort -45   90   0  P RO   -135  Z0	    bDW3                    
#	BL   minus bDW3   cutLowerPort     45   90   0  P R0    135  ZLo    DSWall            1     ChamberIn  Lead        none      0    0    0    0    0    0

#visual settings
	VerboseLevel:    5
	VISSETTING  #Keep this line to call Reset
#	Name                        red    green  blue  transparency
	vis_MuVetoPS                1      1      0
	vis_Target                  1      0      0 
	vis_TargetBorder            0      1      0 
	vis_TargetBorderShielding   0.5    0.5    0.5
	vis_VetoPS1                 0      1      1  
	vis_ESi1                    0      1      1  
	vis_dESi1                   1      0      0  
	vis_VetoPS2                 0      1      1  
	vis_ESi2                    0      1      1  
	vis_dESi2                   1      0      0  
	vis_DSWall                  0.5    0.5    0.5
	vis_SourceBoarder           0.6    0.6    0.6   1
	vis_SourceDisk              1      1      1     0.5
	vis_Source                  0.2    0.2    0.2
	vis_GePS                    1      1      0  